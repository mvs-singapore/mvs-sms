<div class="row">
  <ul class="nav nav-pills mb-3" id="student-form-tab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="admission-tab" data-toggle="pill" href="#admission" role="tab" aria-controls="admission" aria-expanded="true">Admission Details</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="student-particulars-tab" data-toggle="pill" href="#student-particulars" role="tab" aria-controls="student-particulars" aria-expanded="true">Student Particulars</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="past-educations-tab" data-toggle="pill" href="#past-educations" role="tab" aria-controls="past-educations" aria-expanded="true">Past Education Records</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="contacts-tab" data-toggle="pill" href="#contacts" role="tab" aria-controls="contacts" aria-expanded="true">Parent/Guardian Particulars</a>
    </li>
    </li>
  </ul>
</div>

<div class="row">
  <div class="tab-content" id="pills-tabContent">
    <div class="tab-pane fade show active" id="admission" role="tabpanel" aria-labelledby="admission-tab">
      <%= render '/students/shared/admission_details', f: f %>
    </div>
    <div class="tab-pane fade" id="student-particulars" role="tabpanel" aria-labelledby="student-particulars-tab">
      <%= render '/students/shared/student_particulars', f: f %>
    </div>
    <div class="tab-pane fade" id="past-educations" role="tabpanel" aria-labelledby="past-educations-tab">
      <%= f.fields_for :past_education_records do |past_education_record| %>
        <div class="form-group row">
          <div class="col-4">
            <%= past_education_record.label :school_name, 'School Attended' %>
            <%= past_education_record.text_field :school_name, autofocus: true, class: 'form-control' %>
          </div>

          <div class="col-2">
            <%= past_education_record.label :from_date, 'From Date' %>
            <%= past_education_record.date_field :from_date, autofocus: true, class: 'form-control' %>
          </div>

          <div class="col-2">
            <%= past_education_record.label :to_date, 'To Date' %>
            <%= past_education_record.date_field :to_date, autofocus: true, class: 'form-control' %>
          </div>

          <div class="col-4">
            <%= past_education_record.label :qualification %>
            <%= past_education_record.text_field :qualification, autofocus: true, class: 'form-control' %>
          </div>
        </div>
      <% end %>
    </div>
    <div class="tab-pane fade" id="contacts" role="tabpanel" aria-labelledby="contacts-tab">
      <%= f.fields_for :point_of_contacts do |contacts| %>
        <%= render '/students/shared/point_of_contact_fields', f: contacts %>
      <% end %>
      <div class='form-group row'>
        <%= link_to_add_association 'Add Parent / Guardian', f, :point_of_contacts,
                                    partial: '/students/shared/point_of_contact_fields', class: 'btn btn-primary' %>
      </div>
    </div>
<br>

<h5>Student Particulars</h5>

<div class="form-group row student-particulars">

  <div class="col-6">
    <%= f.label :given_name, 'Given Name' %>
    <%= f.text_field :given_name, autofocus: true, class: 'form-control' %>
  </div>

  <div class="col-6">
    <%= f.label :surname %>
    <%= f.text_field :surname, autofocus: true, class: 'form-control' %>
  </div>

  <div class="col-6">
    <%= f.label :date_of_birth, 'Date of Birth' %>
    <%= f.date_field :date_of_birth, autofocus: true, class: 'form-control' %>
  </div>

  <div class="col-6">
    <%= f.label :place_of_birth, 'Place of Birth' %>
    <%= f.text_field :place_of_birth, autofocus: true, class: 'form-control' %>
  </div>

  <div class="col-6">
    <%= f.label :race %>
    <%= f.text_field :race, autofocus: true, class: 'form-control' %>
  </div>

  <div class="col-6">
    <%= f.label :nric, 'NRIC' %>
    <%= f.text_field :nric, autofocus: true, class: 'form-control' %>
  </div>

  <div class="col-6">
    <%= f.label :citizenship %>
    <%= f.text_field :citizenship, autofocus: true, class: 'form-control' %>
  </div>

  <div class="col-6">
    <%= f.label :gender %>
    <%= f.select :gender, Student.genders.keys, {prompt: 'Select Gender'}, class: 'form-control' %>
  </div>

  <div class="col-6">
    <%= f.label :sadeaf_client_reg_no, 'SADeaf Client Registration No.' %>
    <%= f.text_field :sadeaf_client_reg_no, autofocus: true, class: 'form-control' %>
  </div>

  <div class="col-6">
    <%= f.label :highest_standard_passed, 'Highest Standard Passed' %>
    <%= f.text_field :highest_standard_passed, autofocus: true, class: 'form-control' %>
  </div>

</div>

<h5>Student Medical History</h5>

<div class="form-group row">

  <div class="col-6">
    <%= f.label :disability_ids, 'Disabilities' %>
    <%= f.collection_select :disability_ids,
      @disabilities ,:id,:title, { selected: @student.disability_ids },
      { class: 'chosen-select', :multiple=>true, :data => { :placeholder => 'Select Disabilities' }}
    %>
    </div>

  <div class="col-6">
    <%= f.label :medical_condition_ids , 'Medical Conditions' %>
    <%= f.collection_select :medical_condition_ids,
      @medical_conditions ,:id,:title, { selected: @student.medical_condition_ids },
      { class: 'chosen-select', :multiple=>true, :data => { :placeholder => 'Select Medical conditions' }}
    %>
    </div>

  <div class="col-6">
    <%= f.label :medication_needed, 'Medication Needed' %>
    <%= f.text_field :medication_needed, autofocus: true, class: 'form-control' %>
  </div>

  <div class="col-6">
    <%= f.label :allergies %>
    <%= f.text_field :allergies, autofocus: true, class: 'form-control' %>
  </div>

</div>


<div class="form-group row">
  <div class="col-4">
    <%= f.submit :class => 'btn btn-primary' %>
  </div>
</div>
